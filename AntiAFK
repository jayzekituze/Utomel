local action -- Declare action as a global variable

function roll()
    return math.random(1, 4)
end

function walkandjump()
    local LocalPlayer = game:GetService("Players").LocalPlayer
    local move = game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass('Humanoid'):MoveTo(Vector3.new(math.random(-100,100), 10, math.random(-100,100)))
    wait(math.random(1,10))
    LocalPlayer.Character:FindFirstChildOfClass("Humanoid").Jump = true
end

function jump()
    local LocalPlayer = game:GetService("Players").LocalPlayer
    LocalPlayer.Character:FindFirstChildOfClass("Humanoid").Jump = true
end

function walk()
    local move = game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass('Humanoid'):MoveTo(Vector3.new(math.random(-100,100), 10, math.random(-100,100)))
end

function talk()
    localaction = math.random(1,4)
    
    if localaction == 1 then
    chatString = "5"
    end
    if localaction == 2 then
    chatString = "1"
    end
    if localaction == 3 then
    chatString = "2"
    end
    if localaction == 4 then
    chatString = "2"
    end
    game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(chatString, "All")
end

while true do
    wait(60)
    action = roll() -- Assign the result of roll to action
    if action == 1 then
        print("walking and jumping")
        walkandjump()
    elseif action == 2 then
        print("walking")
        walk()
    elseif action == 3 then
        print("jumping")
        jump()
    elseif action == 4 then
        print("talking")
        talk()
    end
end
